<main class="cart-container">
    <h2>Your Shopping Cart</h2>

    {{#if cart.products.length}}
    <table>
        <thead>
            <tr>
                <th>Product</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each cart.products}}
            <tr>
                <td>{{this.product.title}}</td>
                <td>${{this.product.price}}</td>
                <td>{{this.quantity}}</td>
                <td>${{multiply this.product.price this.quantity}}</td>
                <td>
                    <form action="/cart/{{../cart._id}}/remove/{{this.product._id}}" method="POST">
                        <button type="submit">Remove</button>
                    </form>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>

    <p><strong>Total: ${{calculateTotal cart.products}}</strong></p>
    {{else}}
    <p>Your cart is empty.</p>
    {{/if}}

    <a href="/" class="back-button">Continue Shopping</a>
</main>